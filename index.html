<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Mini App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f2f2f7;
}

.page {
  display: none;
  padding: 15px;
  padding-bottom: 90px;
}

.page.active {
  display: block;
}

/* ---------- Bottom Navigation ---------- */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 70px;
  background: #fff;
  display: flex;
  justify-content: space-around;
  align-items: center;
  border-top: 1px solid #ddd;
}

.bottom-nav button {
  background: none;
  border: none;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #555;
}

.bottom-nav button.active {
  color: #ff9500;
}

/* ---------- Scanner ---------- */
.scanner-box {
  height: calc(100vh - 90px);
  background: black;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  border-radius: 16px;
}

/* ---------- Liste ---------- */
#adressListe {
  list-style: none;
  padding: 0;
}

#adressListe li {
  background: #fff;
  margin-bottom: 8px;
  padding: 12px;
  border-radius: 12px;
  display: flex;
  justify-content: space-between;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

#adressListe li.active {
  background: #d1f7c4;
}

#toggleAllBtn {
  width: 100%;
  padding: 14px;
  margin-bottom: 12px;
  border-radius: 14px;
  border: none;
  font-size: 15px;
  background: #007aff;
  color: white;
}

/* ---------- Bericht ---------- */
.card {
  background: white;
  padding: 16px;
  border-radius: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}
</style>
</head>

<body>

<!-- ---------- SCANNER ---------- -->
<section id="page-scanner" class="page active">
  <h2>ðŸ“· Scanner</h2>
  <div class="scanner-box">
    Scanner â€“ Vollbild
  </div>
</section>

<!-- ---------- LISTE ---------- -->
<section id="page-liste" class="page">
  <h2>ðŸ“‹ Adressliste</h2>

  <button id="toggleAllBtn" onclick="toggleAll()">Alle markieren</button>

  <ul id="adressListe"></ul>
</section>

<!-- ---------- BERICHT ---------- -->
<section id="page-report" class="page">
  <h2>ðŸ“Š Bericht</h2>
  <div class="card">
    Bericht kommt spÃ¤ter
  </div>
</section>

<!-- ---------- NAV ---------- -->
<nav class="bottom-nav">
  <button onclick="showPage('scanner')" id="btn-scanner" class="active">
    ðŸ“·
    <small>Scanner</small>
  </button>
  <button onclick="showPage('liste')" id="btn-liste">
    ðŸ“‹
    <small>Liste</small>
  </button>
  <button onclick="showPage('report')" id="btn-report">
    ðŸ“Š
    <small>Bericht</small>
  </button>
</nav>

<script>
/* ---------- Navigation ---------- */
function showPage(name) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.querySelectorAll(".bottom-nav button").forEach(b => b.classList.remove("active"));

  document.getElementById("page-" + name).classList.add("active");
  document.getElementById("btn-" + name).classList.add("active");

  if (name === "liste") renderListe();
}

/* ---------- Daten ---------- */
let adressen = [
  { adresse: "Augsburger Str. 10", betrag: "25.00", active: false },
  { adresse: "Bahnhofstr. 3", betrag: "18.50", active: false },
  { adresse: "Singoldanger 1b", betrag: "31.90", active: false }
];

/* ---------- Liste ---------- */
function renderListe() {
  const ul = document.getElementById("adressListe");
  ul.innerHTML = "";

  adressen
    .sort((a, b) => a.adresse.localeCompare(b.adresse))
    .forEach((item, index) => {
      const li = document.createElement("li");
      li.className = item.active ? "active" : "";
      li.innerHTML = `
        <span>${item.adresse}</span>
        <strong>${item.betrag} â‚¬</strong>
      `;
      li.onclick = () => toggleItem(index);
      ul.appendChild(li);
    });

  updateToggleAllBtn();
}

function toggleItem(index) {
  adressen[index].active = !adressen[index].active;
  renderListe();
}

function toggleAll() {
  const allActive = adressen.every(a => a.active);
  adressen.forEach(a => a.active = !allActive);
  renderListe();
}

function updateToggleAllBtn() {
  const btn = document.getElementById("toggleAllBtn");
  const allActive = adressen.every(a => a.active);
  btn.textContent = allActive ? "Alle abwÃ¤hlen" : "Alle markieren";
}
</script>

</body>
</html>
